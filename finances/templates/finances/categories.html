{% extends "finances/base.html" %}

{% load static %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'finances/css/categories.css' %}">
{% endblock %}

{% block header %}
<a class="prev" href="{% url 'finances:home' %}">&#10094;</a> {{ block.super }}
{% endblock %}

{% block dropdown-menu %}
<a href="#">Add category</a>
{% endblock %}

{% block content %}

<table class='category-table'>
  <thead>
    <tr>
      <th>Income</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for category in categories %}
    {% if category.is_income == True %}
    <tr>
      <td><a href="{% url 'finances:category' category.id %}">{{ category.name }}</a></td>
      <td>
        <table class="specification-table">
          <tbody>
            {% for specification in category.category_specification.all %}
            <tr><td><a href="{% url 'finances:category' specification.id %}">{{ specification.name }}</a></td></tr>
            {% endfor %}
            <tr><td><a href="{% url 'finances:add_specification' 1 category.id %}">Add specification</a></td></tr>
          </tbody>
        </table>
      </td>
    </tr>
    {% endif %}
    {% endfor %}
    <tr><td><a href="{% url 'finances:add_category' 1 %}">Add category</a></td></tr>
  </tbody>
</table>

<table class='category-table'>
  <thead>
    <tr>
      <th>Expense</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for category in categories %}
    {% if category.is_income == False %}
    <tr>
      <td><a href="{% url 'finances:category' category.id %}">{{ category.name }}</a></td>
      <td>
        <table class="specification-table">
          <tbody>
            {% for specification in category.category_specification.all %}
            <tr><td><a href="{% url 'finances:category' specification.id %}">{{ specification.name }}</a></td></tr>
            {% endfor %}
            <tr><td><a href="{% url 'finances:add_specification' 0 category.id %}">Add specification</a></td></tr>
          </tbody>
        </table>
      </td>
    </tr>
    {% endif %}
    {% endfor %}
    <tr><td><a href="{% url 'finances:add_category' 0 %}">Add category</a></td></tr>
  </tbody>
</table>

{% endblock %}
